[{"id":"66fec4d4.da995c","type":"tab","label":"M5DO Project","disabled":false,"info":""},{"id":"76fe3b95.7998f4","type":"tab","label":"Telegram","disabled":false,"info":""},{"id":"a815757a.783198","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0cb909","baseFont":"Georgia,Georgia,serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#0094CE","value":"#0cb909","edited":true},"page-titlebar-backgroundColor":{"value":"#0cb909","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#1ef41b","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#0cb909","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"Georgia,Georgia,serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"true","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":12,"gy":14,"cx":10,"cy":0,"px":4,"py":4}}},{"id":"bfd6de37.4b1ef","type":"MySQLdatabase","z":"","name":"Class Database","host":"127.0.0.1","port":"3306","db":"classdb","tz":"","charset":"UTF8"},{"id":"bf8cc929.54cba8","type":"mqtt-broker","z":"","name":"","broker":"192.168.1.141","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"a77d87a8.4de108","type":"ui_tab","z":"","name":"Academic Addicts","icon":"dashboard","disabled":false,"hidden":false},{"id":"cde16e20.ed8f4","type":"ui_group","z":"","name":"Temperature and Humidity","tab":"a77d87a8.4de108","order":1,"disp":true,"width":"9","collapse":true},{"id":"9b9f3c0f.b316a","type":"ui_spacer","name":"spacer","group":"cde16e20.ed8f4","order":4,"width":"3","height":"2"},{"id":"a44fe69d.973cc8","type":"board-config","z":"","board":"GrovePi"},{"id":"84a1c858.bd2488","type":"telegrambot-config","z":"","botname":"Academic Addicts","usernames":"faithyjw","chatIds":"437583772","pollInterval":"300"},{"id":"da1c466b.ceea18","type":"telegram bot","z":"","botname":"Academic Addicts","usernames":"","chatids":"","baseapiurl":"","updatemode":"polling","pollinterval":"300","usesocks":false,"sockshost":"","socksprotocol":"socks5","socksport":"6667","socksusername":"anonymous","sockspassword":"","bothost":"","botpath":"","localbotport":"8443","publicbotport":"8443","privatekey":"","certificate":"","useselfsignedcertificate":false,"sslterminated":false,"verboselogging":false},{"id":"f46453e2.aae9e","type":"ui_group","z":"","name":"Sound Levels","tab":"a77d87a8.4de108","order":2,"disp":true,"width":"6","collapse":true},{"id":"6994155d.a6fcac","type":"ui_group","z":"","name":"Time","tab":"a77d87a8.4de108","order":3,"disp":true,"width":"6","collapse":true},{"id":"2cb121a0.bdf3fe","type":"ui_group","z":"","name":"Tables and Light","tab":"a77d87a8.4de108","order":4,"disp":true,"width":"6","collapse":true},{"id":"eea3e84d.957a78","type":"ui_group","z":"","name":"New Customers","tab":"a77d87a8.4de108","order":5,"disp":true,"width":"6","collapse":true},{"id":"9eec39a3.154c58","type":"rpi-gpio in","z":"66fec4d4.da995c","name":"PIR Sensor","pin":"12","intype":"tri","debounce":"25","read":false,"x":230,"y":600,"wires":[["2a57a7ae.f87408","93bd0f36.7dad4"]]},{"id":"2a57a7ae.f87408","type":"debug","z":"66fec4d4.da995c","name":"PIR Output","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":450,"y":640,"wires":[]},{"id":"55131fc3.fca41","type":"change","z":"66fec4d4.da995c","name":"On","rules":[{"t":"set","p":"payload","pt":"msg","to":"1","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":560,"wires":[["92c92bc.43eaed8","3ebde549.7803ba"]]},{"id":"1992cfe.b9bd13","type":"change","z":"66fec4d4.da995c","name":"Off","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":640,"wires":[["92c92bc.43eaed8"]]},{"id":"92c92bc.43eaed8","type":"grove digital output","z":"66fec4d4.da995c","name":"Piezo Buzzer","board":"a44fe69d.973cc8","pin":"2","x":970,"y":640,"wires":[]},{"id":"93bd0f36.7dad4","type":"bigtimer","z":"66fec4d4.da995c","outtopic":"","outpayload1":"1","outpayload2":"0","name":"Big Timer","comment":"","lat":"1.3143394","lon":"103.704159","starttime":"1260","endtime":"990","starttime2":0,"endtime2":"0","startoff":0,"endoff":"800","startoff2":0,"endoff2":0,"offs":0,"outtext1":"","outtext2":"","timeout":1440,"sun":true,"mon":true,"tue":true,"wed":true,"thu":true,"fri":true,"sat":true,"jan":true,"feb":true,"mar":true,"apr":true,"may":true,"jun":true,"jul":true,"aug":true,"sep":true,"oct":true,"nov":true,"dec":true,"day1":0,"month1":0,"day2":0,"month2":0,"day3":0,"month3":0,"day4":0,"month4":0,"day5":0,"month5":0,"day6":0,"month6":0,"day7":0,"month7":0,"day8":0,"month8":0,"day9":0,"month9":0,"day10":0,"month10":0,"day11":0,"month11":0,"day12":0,"month12":0,"d1":0,"w1":0,"d2":0,"w2":0,"d3":0,"w3":0,"d4":0,"w4":0,"d5":0,"w5":0,"d6":0,"w6":0,"xday1":0,"xmonth1":0,"xday2":0,"xmonth2":0,"xday3":0,"xmonth3":0,"xday4":0,"xmonth4":0,"xday5":0,"xmonth5":0,"xday6":0,"xmonth6":0,"xday7":0,"xmonth7":0,"xday8":0,"xmonth8":0,"xday9":0,"xmonth9":0,"xday10":0,"xmonth10":0,"xday11":0,"xmonth11":0,"xday12":0,"xmonth12":0,"xd1":0,"xw1":0,"xd2":0,"xw2":0,"xd3":0,"xw3":0,"xd4":0,"xw4":0,"xd5":0,"xw5":0,"xd6":0,"xw6":0,"suspend":false,"random":false,"randon1":false,"randoff1":false,"randon2":false,"randoff2":false,"repeat":false,"atstart":true,"odd":false,"even":false,"x":440,"y":580,"wires":[["35acd82f.b9e4d8"],[],[]]},{"id":"35acd82f.b9e4d8","type":"switch","z":"66fec4d4.da995c","name":"PIR Condition","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"},{"t":"eq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":640,"y":580,"wires":[["55131fc3.fca41"],["1992cfe.b9bd13"]]},{"id":"f0235c5b.269af","type":"grove analog sensor","z":"66fec4d4.da995c","name":"LDR Sensor","pin":"0","sensor":"light","repeat":"1","board":"a44fe69d.973cc8","x":870,"y":260,"wires":[["7a7c864.f256a78","eaabc83a.73a3b8","10b1e07.bf1fe2","66b17213.5afeac"]]},{"id":"7a7c864.f256a78","type":"debug","z":"66fec4d4.da995c","name":"LDR Output","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1090,"y":200,"wires":[]},{"id":"eaabc83a.73a3b8","type":"function","z":"66fec4d4.da995c","name":"LDR & LED","func":"//when it's dark, it'll turn the light on\n\nvar light = msg.payload;\n\nif (light > 300){\n    msg.payload =\"1\";\n}else{\n    msg.payload =\"0\";\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1090,"y":260,"wires":[["fa96000a.5d12"]]},{"id":"af568d93.3b81d","type":"grove digital sensor","z":"66fec4d4.da995c","name":"Ultrasonic Sensor 2","board":"a44fe69d.973cc8","sensor":"ultrasonic","repeat":"1","pin":"3","x":250,"y":840,"wires":[["a654eff1.eb0fb","db1917a4.5bc9b8"]]},{"id":"a654eff1.eb0fb","type":"debug","z":"66fec4d4.da995c","name":"Ultrasonic Output","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":490,"y":860,"wires":[]},{"id":"db1917a4.5bc9b8","type":"function","z":"66fec4d4.da995c","name":"Tables","func":"var distance = msg.payload;\n\nif (distance < 3){\n    msg.payload = \"All Full\";\n}\nelse if (distance <10){\n    msg.payload =\"Only one table\";\n}\nelse{\n    msg.payload =\"All Empty\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":800,"wires":[["495d9668.d743b8"]]},{"id":"495d9668.d743b8","type":"ui_text","z":"66fec4d4.da995c","group":"2cb121a0.bdf3fe","order":8,"width":"6","height":"4","name":"Info on Tables","label":"Tables Available:","format":"{{msg.payload}}","layout":"row-center","x":620,"y":800,"wires":[]},{"id":"20a94aa0.d6c896","type":"function","z":"66fec4d4.da995c","name":"Door Opening","func":"var distance = msg.payload;\n\nif (distance > 8){\n    msg.payload =\"1\";\n}else{\n    msg.payload =\"90\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1120,"y":800,"wires":[["51006765.173c68"]]},{"id":"51006765.173c68","type":"rpi-gpio out","z":"66fec4d4.da995c","name":"Servo Motor","pin":"18","set":"","level":"0","freq":"50","out":"pwm","x":1310,"y":800,"wires":[]},{"id":"bc79719b.e44fd","type":"grove digital sensor","z":"66fec4d4.da995c","name":"Ultrasonic Sensor","board":"a44fe69d.973cc8","sensor":"ultrasonic","repeat":"1","pin":"4","x":880,"y":820,"wires":[["20a94aa0.d6c896","28a32f8c.8bfc9","db6247da.a5c918","be3a2460.168248"]]},{"id":"28a32f8c.8bfc9","type":"debug","z":"66fec4d4.da995c","name":"Ultrasonic2 Output","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1130,"y":860,"wires":[]},{"id":"54940492.f8bd1c","type":"comment","z":"66fec4d4.da995c","name":"Faith Yeo's M5 Data Operations Project","info":"","x":630,"y":100,"wires":[]},{"id":"1e21d9aa.e10b16","type":"comment","z":"66fec4d4.da995c","name":"Real-Time, LCD, and UI Dashboard","info":"","x":300,"y":140,"wires":[]},{"id":"6da20137.4ac94","type":"comment","z":"66fec4d4.da995c","name":"PIR Sensor, Piezo Buzzer, UI Dashboard, and SQL","info":"","x":350,"y":480,"wires":[]},{"id":"17929a20.c9db76","type":"comment","z":"66fec4d4.da995c","name":"Ultrasonic Sensor, UI Dashboard, SQL, Servo Motor","info":"","x":990,"y":720,"wires":[]},{"id":"4a90adea.372054","type":"comment","z":"66fec4d4.da995c","name":"Ultrasonic Sensor (2) and UI Dashboard","info":"","x":310,"y":720,"wires":[]},{"id":"93d8326f.eb512","type":"comment","z":"66fec4d4.da995c","name":"LDR Sensor, LED, UI Dashboard, and SQL","info":"","x":960,"y":140,"wires":[]},{"id":"fd02a63c.134388","type":"ui_toast","z":"66fec4d4.da995c","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"OK","cancel":"Cancel","raw":false,"topic":"","name":"UI Notification","x":1120,"y":560,"wires":[[]]},{"id":"3ebde549.7803ba","type":"change","z":"66fec4d4.da995c","name":"Initialising","rules":[{"t":"set","p":"topic","pt":"msg","to":"ALERT ALERT","tot":"str"},{"t":"set","p":"payload","pt":"msg","to":"Burglary Alarm Activated!","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":560,"wires":[["fd02a63c.134388"]]},{"id":"db6247da.a5c918","type":"ui_chart","z":"66fec4d4.da995c","name":"UI Chart","group":"eea3e84d.957a78","order":8,"width":0,"height":0,"label":"Entrance","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"10","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#0aa91c","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1100,"y":760,"wires":[[]]},{"id":"10b1e07.bf1fe2","type":"function","z":"66fec4d4.da995c","name":"Function for SQL","func":"var ldr = msg.payload;\nquery ='insert into classtable(LDR) values('+ldr+');'\nmsg.topic = query;\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":380,"wires":[["40b20d9d.7169d4"]]},{"id":"40b20d9d.7169d4","type":"mysql","z":"66fec4d4.da995c","mydb":"bfd6de37.4b1ef","name":"SQL","x":1270,"y":380,"wires":[["d1623f21.e4b6a"]]},{"id":"d1623f21.e4b6a","type":"debug","z":"66fec4d4.da995c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1410,"y":380,"wires":[]},{"id":"be3a2460.168248","type":"function","z":"66fec4d4.da995c","name":"Function for SQL","func":"var ultra = msg.payload;\nquery ='insert into classtable(Ultrasonic2) values('+ultra+');'\nmsg.topic = query;\nreturn msg;","outputs":1,"noerr":0,"x":1130,"y":920,"wires":[["cff00541.806368"]]},{"id":"cff00541.806368","type":"mysql","z":"66fec4d4.da995c","mydb":"bfd6de37.4b1ef","name":"SQL","x":1290,"y":920,"wires":[["e6bdd00.351e83"]]},{"id":"e6bdd00.351e83","type":"debug","z":"66fec4d4.da995c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1430,"y":920,"wires":[]},{"id":"628a4827.c059a8","type":"debug","z":"76fe3b95.7998f4","name":"Tele Menu Output","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":750,"y":260,"wires":[]},{"id":"91c99e1.b61446","type":"telegrambot-payload","z":"76fe3b95.7998f4","name":"Sending the Menu Picture","bot":"84a1c858.bd2488","chatId":"437583772","sendMethod":"sendPhoto","payload":"{\n    \"photo\": \"https://static.wixstatic.com/media/0d81f7_e4469ab4e7de4486a525d7335f5c17b8~mv2.png/v1/fill/w_1152,h_815,al_c,q_90,usm_0.66_1.00_0.01,enc_auto/Academic%20Addicts%20Menu.png\",\n    \"caption\": \"Here's our menu!😋 We're special for our delicious pizzas and homemade coffees🍕☕ \\n\\nFeel free to call our waitresses, once you're ready to order💚\"\n    \n}","x":510,"y":260,"wires":[["628a4827.c059a8"]]},{"id":"e0465d17.c12bd","type":"telegrambot-command","z":"76fe3b95.7998f4","name":"Menu Command","bot":"84a1c858.bd2488","command":"/menu","commandType":"str","commandCase":false,"x":260,"y":260,"wires":[["91c99e1.b61446"]]},{"id":"f7fac23d.48e9f","type":"telegrambot-command","z":"76fe3b95.7998f4","name":"Start Command","bot":"84a1c858.bd2488","command":"/start","commandType":"str","commandCase":false,"x":260,"y":180,"wires":[["d965359d.d9dd68"]]},{"id":"d965359d.d9dd68","type":"telegrambot-notify","z":"76fe3b95.7998f4","name":"Sending Start Message","bot":"84a1c858.bd2488","chatId":"437583772","message":"Hello and welcome to the Academic Addicts Telegram Bot! How may we help you today? :)","parseMode":"","x":510,"y":180,"wires":[]},{"id":"b541e338.06c5f","type":"telegrambot-command","z":"76fe3b95.7998f4","name":"Enquiries Commands","bot":"84a1c858.bd2488","command":"/enquiries","commandType":"str","commandCase":false,"x":280,"y":340,"wires":[["ed261b02.18d108"]]},{"id":"ed261b02.18d108","type":"telegrambot-notify","z":"76fe3b95.7998f4","name":"Sending Google Form Link","bot":"84a1c858.bd2488","chatId":"437583772","message":"https://forms.gle/7FzoRv1Wo62WLLEb7","parseMode":"","x":520,"y":340,"wires":[]},{"id":"6961a062.a3871","type":"comment","z":"76fe3b95.7998f4","name":"Telegram Bot and the Commands","info":"","x":310,"y":120,"wires":[]},{"id":"ff1494f6.a7c6b8","type":"telegrambot-notify","z":"76fe3b95.7998f4","name":"Yes","bot":"84a1c858.bd2488","chatId":"437583772","message":"One cup of water coming right away! :)","parseMode":"","x":1070,"y":520,"wires":[]},{"id":"d3e2508b.5a7be","type":"grove digital sensor","z":"76fe3b95.7998f4","name":"DHT11 Sensor","board":"a44fe69d.973cc8","sensor":"dht11","repeat":"1","pin":"8","x":260,"y":640,"wires":[["d0b6f64f.be5fc8","6e8cb87d.ea3e28","34ffd0e.b86f43","f45afe7a.45961","aa9e21ad.6eb53","c72dfeab.2163d"]]},{"id":"24935611.a674ea","type":"telegrambot-switch","z":"76fe3b95.7998f4","name":"Asking if Customers wants water","bot":"84a1c858.bd2488","chatId":"437583772","question":"Temperature has been detected for more than 30°C...Would you like a cup of water to hydrate yourself?","answers":["Yes please :>","No thanks! :)","Later please :D"],"outputs":3,"autoAnswerCallback":true,"verticalAnswers":false,"timeoutValue":"","timeoutUnits":"","x":830,"y":560,"wires":[["ff1494f6.a7c6b8"],["c46fa285.b5c5b"],["eb1ed823.cf7658"]]},{"id":"d0b6f64f.be5fc8","type":"switch","z":"76fe3b95.7998f4","name":"Temperature Condition","property":"payload.temperature","propertyType":"msg","rules":[{"t":"gt","v":"30","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":520,"y":540,"wires":[["24935611.a674ea"]]},{"id":"3f1d9597.31823a","type":"grove analog sensor","z":"76fe3b95.7998f4","name":"Sound Sensor","pin":"1","sensor":"sound","repeat":"1","board":"a44fe69d.973cc8","x":970,"y":260,"wires":[["8e63d68.5949128","8e34c605.a28af8","e7b26818.470388","50e03515.4c784c"]]},{"id":"844ae2d8.3fa2c","type":"telegrambot-notify","z":"76fe3b95.7998f4","name":"Telling Customers to Lower Noise Down","bot":"84a1c858.bd2488","chatId":"437583772","message":"Apologies for any inconveniences or disturbances, but high level of noise has been detected so please help to keep it down as there are others who are studying...Thank you so much for your cooperation :) <3","parseMode":"","x":1560,"y":260,"wires":[]},{"id":"8e63d68.5949128","type":"switch","z":"76fe3b95.7998f4","name":"Sound Condition","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"650","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1230,"y":260,"wires":[["844ae2d8.3fa2c"]]},{"id":"8e34c605.a28af8","type":"debug","z":"76fe3b95.7998f4","name":"Sound Output","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1220,"y":320,"wires":[]},{"id":"c46fa285.b5c5b","type":"telegrambot-notify","z":"76fe3b95.7998f4","name":"No","bot":"84a1c858.bd2488","chatId":"437583772","message":"Okay sure, but please don't hesitate to call us if you're thirsty <3","parseMode":"","x":1070,"y":580,"wires":[]},{"id":"944f57bc.93dce8","type":"ui_gauge","z":"76fe3b95.7998f4","name":"Humidity","group":"cde16e20.ed8f4","order":5,"width":"8","height":"8","gtype":"gage","title":"Humidity","label":"%","format":"","min":"70","max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"80","seg2":"90","x":680,"y":760,"wires":[]},{"id":"6e8cb87d.ea3e28","type":"function","z":"76fe3b95.7998f4","name":"Humidity UI","func":"msg.payload = msg.payload.humidity;\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":760,"wires":[["944f57bc.93dce8"]]},{"id":"eb1ed823.cf7658","type":"delay","z":"76fe3b95.7998f4","name":"Delay for 1 Hour","pauseType":"delay","timeout":"30","timeoutUnits":"minutes","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":820,"y":660,"wires":[["24935611.a674ea"]]},{"id":"34ffd0e.b86f43","type":"debug","z":"76fe3b95.7998f4","name":"Temperature Output","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload.temperature","targetType":"msg","x":520,"y":580,"wires":[]},{"id":"e8eaba01.8eeb48","type":"comment","z":"76fe3b95.7998f4","name":"Sound Sensor, UI Dashboard, SQL, and Telegram","info":"","x":1090,"y":140,"wires":[]},{"id":"e7b26818.470388","type":"ui_chart","z":"76fe3b95.7998f4","name":"UI Chart","group":"f46453e2.aae9e","order":9,"width":"6","height":"11","label":"Sound Level","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"800","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"1","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#10ea17","#aec7e8","#ff7f0e","#25e425","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1200,"y":200,"wires":[[]]},{"id":"2ef40a44.2acb86","type":"ui_gauge","z":"76fe3b95.7998f4","name":"Temperature","group":"cde16e20.ed8f4","order":5,"width":"8","height":"8","gtype":"gage","title":"Temperature","label":"°C","format":"","min":"20","max":"40","colors":["#00b500","#e6e600","#ca3838"],"seg1":"25","seg2":"30","x":690,"y":720,"wires":[]},{"id":"f45afe7a.45961","type":"function","z":"76fe3b95.7998f4","name":"Temperature UI","func":"msg.payload = msg.payload.temperature;\nreturn msg;","outputs":1,"noerr":0,"x":500,"y":720,"wires":[["2ef40a44.2acb86"]]},{"id":"50e03515.4c784c","type":"function","z":"76fe3b95.7998f4","name":"Function for SQL","func":"var sound = msg.payload;\nquery ='insert into classtable(Sound) values('+sound+');'\nmsg.topic = query;\nreturn msg;","outputs":1,"noerr":0,"x":1230,"y":380,"wires":[["fb3642bf.1e80f"]]},{"id":"fb3642bf.1e80f","type":"mysql","z":"76fe3b95.7998f4","mydb":"bfd6de37.4b1ef","name":"SQL","x":1390,"y":380,"wires":[["9bb4c261.2a0b7"]]},{"id":"9bb4c261.2a0b7","type":"debug","z":"76fe3b95.7998f4","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1530,"y":380,"wires":[]},{"id":"d4b33d68.8e686","type":"comment","z":"76fe3b95.7998f4","name":"DHT11 Sensor, UI Dashboard, SQL and Telegram","info":"","x":360,"y":480,"wires":[]},{"id":"ed307d44.821b7","type":"mysql","z":"76fe3b95.7998f4","mydb":"bfd6de37.4b1ef","name":"SQL","x":690,"y":820,"wires":[["4e778ef0.9b2ce"]]},{"id":"4e778ef0.9b2ce","type":"debug","z":"76fe3b95.7998f4","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":850,"y":820,"wires":[]},{"id":"aa9e21ad.6eb53","type":"function","z":"76fe3b95.7998f4","name":"Function for SQL","func":"var temp = msg.payload.temperature;\nquery ='insert into classtable(Temperature) values('+temp+');'\nmsg.topic = query;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":820,"wires":[["ed307d44.821b7"]]},{"id":"9c2833b.fb2d7d","type":"debug","z":"76fe3b95.7998f4","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":850,"y":880,"wires":[]},{"id":"9b9b7c71.f3831","type":"mysql","z":"76fe3b95.7998f4","mydb":"bfd6de37.4b1ef","name":"SQL","x":690,"y":881,"wires":[["9c2833b.fb2d7d"]]},{"id":"c72dfeab.2163d","type":"function","z":"76fe3b95.7998f4","name":"Function for SQL","func":"var humidity = msg.payload.humidity;\nquery ='insert into classtable(Humidity) values('+humidity+');'\nmsg.topic = query;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":880,"wires":[["9b9b7c71.f3831"]]},{"id":"152f8bc.c755174","type":"comment","z":"76fe3b95.7998f4","name":"Faith Yeo's M5 Data Operations Project","info":"","x":730,"y":60,"wires":[]},{"id":"846dd759.d42408","type":"grove lcdrgb output","z":"66fec4d4.da995c","name":"LCD","board":"a44fe69d.973cc8","pin":"3","x":590,"y":320,"wires":[]},{"id":"a32debb2.547478","type":"ui_clock","z":"66fec4d4.da995c","name":"Analog Clock","group":"6994155d.a6fcac","order":7,"width":"6","height":6,"x":430,"y":200,"wires":[]},{"id":"c3f713c9.aa824","type":"function","z":"66fec4d4.da995c","name":"UI Time","func":"var timestamp = msg.payload;\nlet time = new Date(timestamp).toLocaleTimeString();\n\nmsg.payload= time;\n\nreturn {\n payload: time\n}","outputs":1,"noerr":0,"x":420,"y":260,"wires":[["22f60e85.369732","486a2753.8e2af8"]]},{"id":"22f60e85.369732","type":"ui_text","z":"66fec4d4.da995c","group":"6994155d.a6fcac","order":1,"width":"6","height":"5","name":"Digital Clock","label":"Digital Clock","format":"{{msg.payload}}","layout":"col-center","x":610,"y":220,"wires":[]},{"id":"486a2753.8e2af8","type":"debug","z":"66fec4d4.da995c","name":"Time Output","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":610,"y":260,"wires":[]},{"id":"12dff6f1.74f4f9","type":"function","z":"66fec4d4.da995c","name":"Time LCD","func":"var timestamp = msg.payload;\nlet time = new Date(timestamp).toLocaleTimeString();\n\nmsg.payload = {\n  \"text\": \"Welcome to AA!:D\" + \"Time:\" +time,\n  \"rgb\":[255,0,188]\n     }\n     \nreturn msg;","outputs":1,"noerr":0,"x":420,"y":320,"wires":[["846dd759.d42408"]]},{"id":"be529dca.106fc","type":"inject","z":"66fec4d4.da995c","name":"Time","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":true,"onceDelay":0.1,"x":210,"y":260,"wires":[["a32debb2.547478","c3f713c9.aa824","12dff6f1.74f4f9"]]},{"id":"66b17213.5afeac","type":"function","z":"66fec4d4.da995c","name":"Light","func":"var light = msg.payload;\n\nif (light >300){\n    msg.payload = \"Turned ON\";\n}\nelse{\n    msg.payload =\"Turned OFF\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":1070,"y":320,"wires":[["b749ec96.85211"]]},{"id":"b749ec96.85211","type":"ui_text","z":"66fec4d4.da995c","group":"2cb121a0.bdf3fe","order":8,"width":0,"height":0,"name":"Info on Light","label":"Light Status","format":"{{msg.payload}}","layout":"row-spread","x":1270,"y":320,"wires":[]},{"id":"fa96000a.5d12","type":"grove digital output","z":"66fec4d4.da995c","name":"LED","board":"a44fe69d.973cc8","pin":"7","x":1250,"y":260,"wires":[]}]